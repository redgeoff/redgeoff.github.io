<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.78.1"><title>How to autogenerate forms in React and Material-UI with MSON &#183; redgeoff</title><meta name=description content="Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use MSON to generate forms that perform real-time validation and have a consistent layout. And, MSON comes with a bunch of cool stuff like date pickers, masked fields and field collections."><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZMV9CF3YF6"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-ZMV9CF3YF6');</script><meta itemprop=name content="How to autogenerate forms in React and Material-UI with MSON"><meta itemprop=description content="Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use MSON to generate forms that perform real-time validation and have a consistent layout. And, MSON comes with a bunch of cool stuff like date pickers, masked fields and field collections."><meta itemprop=datePublished content="2018-10-22T00:00:00+00:00"><meta itemprop=dateModified content="2018-10-22T00:00:00+00:00"><meta itemprop=wordCount content="884"><meta itemprop=image content="https://redgeoff.com/posts/mson-react-material-ui-form/demo.png"><meta itemprop=keywords content="react,forms,programming,tech,design,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://redgeoff.com/posts/mson-react-material-ui-form/demo.png"><meta name=twitter:title content="How to autogenerate forms in React and Material-UI with MSON"><meta name=twitter:description content="Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use MSON to generate forms that perform real-time validation and have a consistent layout. And, MSON comes with a bunch of cool stuff like date pickers, masked fields and field collections."><meta property="og:title" content="How to autogenerate forms in React and Material-UI with MSON"><meta property="og:description" content="Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use MSON to generate forms that perform real-time validation and have a consistent layout. And, MSON comes with a bunch of cool stuff like date pickers, masked fields and field collections."><meta property="og:type" content="article"><meta property="og:url" content="https://redgeoff.com/posts/mson-react-material-ui-form/"><meta property="og:image" content="https://redgeoff.com/posts/mson-react-material-ui-form/demo.png"><meta property="article:published_time" content="2018-10-22T00:00:00+00:00"><meta property="article:modified_time" content="2018-10-22T00:00:00+00:00"><meta property="og:see_also" content="https://redgeoff.com/posts/everyone-can-make-software/"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://redgeoff.com/#author","name":"Geoff Cox","image":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/d1488b20cd7d55657e0b69f7d779c942?s=400&d=mp"},"description":" "},{"@type":"WebSite","@id":"https://redgeoff.com/#website","url":"https://redgeoff.com/","name":"redgeoff","description":" ","publisher":{"@id":"https://redgeoff.com/#author"},"inLanguage":"en-us"},{"@type":"WebPage","@id":"https://redgeoff.com/posts/mson-react-material-ui-form/#webpage","url":"https://redgeoff.com/posts/mson-react-material-ui-form/","name":"How to autogenerate forms in React and Material-UI with MSON","isPartOf":{"@id":"https://redgeoff.com/#website"},"about":{"@id":"https://redgeoff.com/#author"},"datePublished":"2018-10-22T00:00:00+00:00","dateModified":"2018-10-22T00:00:00+00:00","description":"Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use MSON to generate forms that perform real-time validation and have a consistent layout. And, MSON comes with a bunch of cool stuff like date pickers, masked fields and field collections.","inLanguage":"en-us","potentialAction":[{"@type":"ReadAction","target":["https://redgeoff.com/posts/mson-react-material-ui-form/"]}]},{"@type":"Article","isPartOf":{"@id":"https://redgeoff.com/posts/mson-react-material-ui-form/#webpage"},"mainEntityOfPage":{"@id":"https://redgeoff.com/posts/mson-react-material-ui-form/#webpage"},"headline":"How to autogenerate forms in React and Material-UI with MSON","image":["https://redgeoff.com/posts/mson-react-material-ui-form/demo.png"],"datePublished":"2018-10-22T00:00:00+00:00","dateModified":"2018-10-22T00:00:00+00:00","publisher":{"@id":"https://redgeoff.com/#author"},"keywords":["react","forms","programming","tech","design"],"articleSection":["Programming"],"inLanguage":"en-us","author":{"@type":"Person","name":null},"potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://redgeoff.com/posts/mson-react-material-ui-form/#comments"]}]}]}</script><link type=text/css rel=stylesheet href=/css/print.css media=print><link type=text/css rel=stylesheet href=/css/poole.css><link type=text/css rel=stylesheet href=/css/hyde.css><style type=text/css>.sidebar{background-color:#fc2803}.read-more-link a{border-color:#fc2803}.pagination li a{color:#fc2803;border:1px solid #fc2803}.pagination li.active a{background-color:#fc2803}.pagination li a:hover{background-color:#fc2803;opacity:.75}footer a,.content a,.related-posts li a:hover{color:#fc2803}</style><link type=text/css rel=stylesheet href=/css/blog.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin=anonymous><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png></head><body><aside class=sidebar><div class=container><div class=sidebar-about><div class=author-image><img src="https://www.gravatar.com/avatar/d1488b20cd7d55657e0b69f7d779c942?s=200&d=mp" class="img-circle img-headshot center" alt=Gravatar></div><h1>redgeoff</h1><p class=lead></p></div><nav><ul class=sidebar-nav><li><a href=https://redgeoff.com/>Home</a></li><li><a href=/posts/>Posts</a></li><li><a href=/publications/>Publications</a></li><li><a href=/about/>About</a></li><li><a href=/music/>Music</a></li></ul></nav><section class=social-icons><a href=https://github.com/redgeoff rel=me title=GitHub target=_blank><i class="fab fa-github" aria-hidden=true></i></a><a href=https://www.linkedin.com/in/geoffrey-cox rel=me title=Linkedin target=_blank><i class="fab fa-linkedin" aria-hidden=true></i></a><a href=https://medium.com/@redgeoff rel=me title=Medium target=_blank><i class="fab fa-medium" aria-hidden=true></i></a><a href="https://stackoverflow.com/users/2831606/redgeoff?tab=profile" rel=me title=StackOverflow target=_blank><i class="fab fa-stack-overflow" aria-hidden=true></i></a><a href=https://twitter.com/coxgeoffrey rel=me title=Twitter target=_blank><i class="fab fa-twitter" aria-hidden=true></i></a></section></div></aside><main class="content container"><div class=post><h1 class=title>How to autogenerate forms in React and Material-UI with MSON</h1><div class=post-date><time datetime=2018-10-22T00:00:00Z>Oct 22, 2018</time> &#183; 5 min read</div><div><figure class=image><a href=https://redgeoff.github.io/mson-react><img src=/posts/mson-react-material-ui-form/demo.png alt="MSON Demo"></a></figure><p>Implementing great forms can be a real time-waster. With just a few lines of JSON, you can use <a href=https://github.com/redgeoff/mson>MSON</a> to generate forms that perform real-time validation and have a consistent layout. And, <a href=https://github.com/redgeoff/mson>MSON</a> comes with a bunch of cool stuff like date pickers, masked fields and field collections.</p><p><strong>Disclaimer</strong>: this post is geared towards those wishing to use Material-UI with React. Future versions of MSON will support other rendering layers.</p><h3 id=what-the-heck-is-mson>What the heck is MSON?</h3><p><a href=https://github.com/redgeoff/mson>MSON</a> is a declarative language that has the capabilities of an object-oriented language. The MSON compiler allows you to generate apps from JSON. The ultimate goal of MSON is to allow anyone to develop software visually. You can also use pieces of MSON to turbo charge your form development.</p><h3 id=a-basic-form-generated-with-mson>A Basic Form Generated with MSON</h3><p>Simply declare your form in JSON. Then let the MSON compiler and UI-rendering layer autogenerate your UI:</p><iframe src="https://codesandbox.io/embed/00ql22mx8w?fontsize=14&hidenavigation=1&theme=dark" style=width:100%;height:500px;border:0;border-radius:4px;overflow:hidden allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>Did you try submitting the form without filling in any values? Did you notice how real-time validation is automatically baked in?</p><p>Now, letâ€™s take a closer look at what is happening. The first block of code contains a JSON definition that describes the fields in the form:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>definition</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Form&#34;</span>,
  <span style=color:#a6e22e>fields</span><span style=color:#f92672>:</span> [
    {
      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;heading&#34;</span>,
      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Text&#34;</span>,
      <span style=color:#a6e22e>text</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;# Form using [MSON](https://github.com/redgeoff/mson)&#34;</span>
    },
    {
      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;fullName&#34;</span>,
      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;PersonFullNameField&#34;</span>,
      <span style=color:#a6e22e>required</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
    },
    {
      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;birthday&#34;</span>,
      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;DateField&#34;</span>,
      <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Birthday&#34;</span>,
      <span style=color:#a6e22e>required</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>
    },
    {
      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;phone&#34;</span>,
      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;PhoneField&#34;</span>,
      <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Phone&#34;</span>
    },
    {
      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;submit&#34;</span>,
      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;ButtonField&#34;</span>,
      <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Submit&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;submit&#34;</span>,
      <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Send&#34;</span>
    }
  ]
};
</code></pre></div><p>This code adds the following fields to your form:</p><ol><li>The <em>Text</em> component displays some <a href=https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet>markdown</a></li><li>The <em>PersonNameField</em> is used to capture a personâ€™s first and last names</li><li>The <em>DateField</em> allows a user to choose a date using a slick date picker</li><li>The <em>PhoneField</em> uses an input mask and country codes to guide the user when entering a phone number</li><li>The <em>SubmitField</em> contains a <em>Send</em> icon and allows the user to submit the form via a click or by pressing enter</li></ol><p>Now, letâ€™s take a look at the code that renders the component and handles the submit event:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-js data-lang=js><span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>render</span>(
  <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Component</span>
    <span style=color:#a6e22e>definition</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>definition</span>}
    <span style=color:#a6e22e>onSubmit</span><span style=color:#f92672>=</span>{({ <span style=color:#a6e22e>component</span> }) =&gt; {
      <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>getValues</span>()));
    }}
  <span style=color:#f92672>/&gt;</span>,
  document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;root&#34;</span>)
);
</code></pre></div><p>Thatâ€™s it!? Yup! The <a href=https://github.com/redgeoff/mson-react>mson-react</a> layer <strong>automatically</strong> knows how to render the form component. It uses <a href=https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern>pub/sub</a> and <a href=https://reactjs.org/docs/react-api.html#reactpurecomponent>Pure Components</a> to keep the rendering up-to-date.</p><p>When there is no validation error and the user clicks the submit button, an event with the name equal to the buttonâ€™s name is emitted. In our case, this event is called <em>submit</em>. Therefore, we can define a handler using the <em>onSubmit</em> property. To keep things simple, we just alert the user of the entered values. Typically you want to do something like contact an API, redirect, etcâ€¦</p><h3 id=basic-form-2>Basic Form 2</h3><p>Now, letâ€™s go a bit deeper into the CRUD with a different example:</p><iframe src="https://codesandbox.io/embed/n10q2y7ojj?fontsize=14&hidenavigation=1&theme=dark" style=width:100%;height:500px;border:0;border-radius:4px;overflow:hidden allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><p>The first thing you may notice are the <a href=https://github.com/redgeoff/mson#validators>validators</a> in the definition:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-js data-lang=js><span style=color:#a6e22e>validators</span><span style=color:#f92672>:</span> [
  {
    <span style=color:#a6e22e>where</span><span style=color:#f92672>:</span> {
      <span style=color:#e6db74>&#34;fields.email.value&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;nope@example.com&#34;</span>
    },
    <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> {
      <span style=color:#a6e22e>field</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;email&#34;</span>,
      <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;must not be {{fields.email.value}}&#34;</span>
    }
  }
]
</code></pre></div><p>Each field has a default set of <a href=https://github.com/redgeoff/mson#validators>validators</a>, e.g. the <em>EmailField</em> ensures that email addresses are in a valid format. You can also extend these validators for a particular field or even for an entire form. For example, you can prevent the user from entering <em>nope@example.com</em>.</p><p>Next, letâ€™s take a look at the code that loads the initial values when the component is mounted:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-js data-lang=js><span style=color:#a6e22e>onMount</span><span style=color:#f92672>=</span>{({ <span style=color:#a6e22e>component</span> }) =&gt; {
  <span style=color:#75715e>// Load any initial data, e.g. from an API
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>setValues</span>({
    <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;abc123&#34;</span>,
    <span style=color:#a6e22e>firstName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Bob&#34;</span>,
    <span style=color:#a6e22e>lastName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Marley&#34;</span>,
    <span style=color:#a6e22e>email</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;bob@example.com&#34;</span>
  });
}}
</code></pre></div><p>This code could just as easily be replaced by code that retrieves the values from some API asynchronously.</p><p>Finally, we use a more sophisticated event listener to handle the submit action. In a real-world app, youâ€™d probably want to send a request to an API to save the data. You would receive a response from this API. If you receive an error, e.g. the email address is already in use, you can present this error to the user:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-js data-lang=js><span style=color:#a6e22e>onSubmit</span><span style=color:#f92672>=</span>{({ <span style=color:#a6e22e>component</span> }) =&gt; {
  <span style=color:#75715e>// TODO: Contact some API with the data
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;submitting&#34;</span>, <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>getValues</span>());

  <span style=color:#75715e>// Simulate response from API saying that email address is already in use and report this
</span><span style=color:#75715e></span>  <span style=color:#75715e>// error to the user
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;fields.email.value&#34;</span>) <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;taken@example.com&#34;</span>) {
    <span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>set</span>({ <span style=color:#e6db74>&#34;fields.email.err&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;already in use&#34;</span> });
  } <span style=color:#66d9ef>else</span> {
    <span style=color:#75715e>// Everything was successful so redirect, show confirmation, etc...
</span><span style=color:#75715e></span>  }
}}
</code></pre></div><h3 id=live-demohttpsredgeoffcommson-react><a href=https://redgeoff.com/mson-react/>Live Demo</a></h3><p>This post only touches on a small piece of what you can do using <a href=https://github.com/redgeoff/mson>MSON</a>. Because <a href=https://github.com/redgeoff/mson>MSON</a> is a full-featured language, you can declare all types of cool components. If you are interested in seeing more live examples, check out the <a href=https://redgeoff.com/mson-react/>live demo</a>.</p><figure class=image><a href=https://redgeoff.github.io/mson-react><img src=/posts/mson-react-material-ui-form/demo.png alt="MSON Demo"></a></figure><h3 id=wrap-it-up>Wrap It Up!</h3><p>If you are using React and Material-UI, you can speed up your app development by autogenerating your forms from JSON. This can be particularly useful if you need to bootstrap an app quickly and donâ€™t want to have to worry about building a UI from scratch.
If you liked this post, please give it a clap or two. Happy <a href=https://github.com/redgeoff/mson>autogenerating!</a></p><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost"){return;}
var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='redgeoff';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div><ul class=tags><li><a href=https://redgeoff.com/tags/react/ class=tag-link>react</a></li><li><a href=https://redgeoff.com/tags/forms/ class=tag-link>forms</a></li><li><a href=https://redgeoff.com/tags/programming/ class=tag-link>programming</a></li><li><a href=https://redgeoff.com/tags/tech/ class=tag-link>tech</a></li><li><a href=https://redgeoff.com/tags/design/ class=tag-link>design</a></li></ul></div><div class=share-buttons><a class=twitter-share-button href=# title="Share on Twitter" data-url=https://redgeoff.com/posts/mson-react-material-ui-form/ data-text="How to autogenerate forms in React and Material-UI with MSON"><i class="fab fa-twitter"></i></a><a class=linkedin-share-button href=# title="Share on LinkedIn" data-url=https://redgeoff.com/posts/mson-react-material-ui-form/ data-text="How to autogenerate forms in React and Material-UI with MSON"><i class="fab fa-linkedin-in"></i></a><a class=facebook-share-button href=# title="Share on Facebook" data-url=https://redgeoff.com/posts/mson-react-material-ui-form/ data-text="How to autogenerate forms in React and Material-UI with MSON"><i class="fab fa-facebook"></i></a><a class=telegram-share-button href=# title="Share on Telegram" data-url=https://redgeoff.com/posts/mson-react-material-ui-form/ data-text="How to autogenerate forms in React and Material-UI with MSON"><i class="fab fa-telegram"></i></a><a class=pinterest-share-button href=# title="Share on Pinterest" data-url=https://redgeoff.com/posts/mson-react-material-ui-form/ data-text="How to autogenerate forms in React and Material-UI with MSON"><i class="fab fa-pinterest"></i></a></div></div></main><footer><div><p>&copy; Geoff Cox 2020</p></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin=anonymous></script><script src=/js/jquery.min.js></script><script src=/js/soho.js></script></body></html>